# Описание тренировочных заданий по работе с объектами

## Общая информация

Этот набор заданий создан для практического освоения работы с объектами в JavaScript на реальных данных.

Все задания разделены на 9 уровней сложности - от базовых операций до сложных трансформаций и группировок.

## Структура файлов

- `data.js` - тренировочные данные (карты, транзакции, пользователи, события)
- `tasks.js` - прототипы функций-заданий с сигнатурами
- `tests.ts` (будет создан позже) - тесты для проверки решений

## Что нужно знать перед началом

### Базовые операции с объектами

1. **Доступ к свойствам**: `object.property` или `object["property"]`
2. **Проверка существования**: `property in object` или `object.property !== undefined`
3. **Деструктуризация**: `const { name, id } = card`
4. **Оператор спреда**: `const copy = { ...original }`

### Копирование объектов

⚠️ **КРИТИЧЕСКИ ВАЖНО**: JavaScript работает со ссылками на объекты!

- **Поверхностная копия**: `const copy = { ...object }` 
  - Копирует только первый уровень
  - Вложенные объекты и массивы остаются ссылками

- **Глубокая копия**: `const copy = JSON.parse(JSON.stringify(object))` 
  - Создает полную независимую копию
  - Работает не со всеми типами данных

### Работа с массивами объектов

- `filter()` - отфильтровать элементы
- `map()` - преобразовать каждый элемент
- `reduce()` - свести к одному значению
- `find()` - найти один элемент
- `some()` / `every()` - проверить условие

## Описание уровней

### Уровень 1: Базовые операции с объектами (Задания 1-3)

**Цель**: Научиться извлекать значения из объектов и проверять их наличие

**Концепции**:
- Прямой доступ к свойствам
- Опциональные поля (проверка на undefined)
- Простые условные проверки

### Уровень 2: Вложенные объекты (Задания 4-6)

**Цель**: Работать с объектами внутри объектов

**Концепции**:
- Цепочки доступа: `card.type.name`
- Проверка существования вложенных объектов
- Возврат значений по умолчанию


### Уровень 3: Массивы объектов (Задания 7-10)

**Цель**: Обрабатывать коллекции объектов

**Концепции**:
- `filter()` для поиска элементов по условию
- `reduce()` для подсчета
- Обработка пустых массивов


### Уровень 4: Трансформация объектов (Задания 11-14)

**Цель**: Создавать новые объекты на основе существующих

**Концепции**:
- Деструктуризация объектов
- Оператор спреда `...`
- Правила копирования (поверхностное vs глубокое)

⚠️ **ВАЖНО**: Не мутировать исходные объекты!

**Пример**:
```javascript
// Задание 12: Переименовать карту
const card = { id: "1", name: "Старое имя" };

// ❌ ПЛОХО - мутирует оригинал
// card.name = "Новое имя";

// ✅ ХОРОШО - создает новый объект
const renamedCard = { ...card, name: "Новое имя" };
// card не изменился!
```

### Уровень 5: Группировка и агрегация (Задания 15-17)

**Цель**: Анализировать и группировать данные

**Концепции**:
- `reduce()` для группировки
- Агрегация данных (суммы, подсчеты)
- Преобразование типов (string → number)

**Пример**:
```javascript
// Задание 16: Подсчитать общий баланс
const cards = [
  { balance: "100.50" },
  { balance: "200.00" }
];
const total = cards.reduce((sum, card) => 
  sum + parseFloat(card.balance), 0
);
// Результат: 300.50
```

### Уровень 6: Глубокие вложенности (Задания 18-19)

**Цель**: Безопасно работать с глубоко вложенными данными

**Концепции**:
- Опциональная цепочка `?.`
- Проверка на существование каждого уровня
- Возврат null при отсутствии данных


### Уровень 7: Преобразование структур (Задания 20-22)

**Цель**: Менять форму данных

**Концепции**:
- Преобразование массивов в объекты
- `Object.fromEntries()` и `Object.entries()`
- Объединение объектов


### Уровень 8: Сложная фильтрация (Задания 23-24)

**Цель**: Фильтровать по сложным условиям с вложенными полями

**Концепции**:
- Комбинирование нескольких условий
- Работа с опциональными полями
- Сортировка после фильтрации


### Уровень 9: Массивы внутри объектов (Задания 25-27)

**Цель**: Изменять массивы внутри объектов без мутации

**Концепции**:
- Оператор спреда для массивов `[...array]`
- `map()` для обновления элементов массива
- Неизменяемость данных


## Рекомендации по выполнению

### 1. Сначала изучите данные

Откройте `data.js` и посмотрите на структуру объектов:
- `trainingCards` - массив карт пользователя
- `trainingCardBins` - банковские продукты
- `trainingTransactions` - транзакции
- `trainingUserProfile` - профиль пользователя
- `trainingEvents` - события

### 2. Читайте сигнатуры функций

В файле `tasks.js` каждая функция имеет:
- **Параметры** - что принимает на вход
- **Возвращаемый тип** - что должна вернуть
- **Комментарий** - что именно нужно сделать

### 3. Пишите код по шагам

Не старайтесь решить за один раз. Разбейте на этапы:

1. Прочитайте задание и поймите что нужно вернуть
2. Посмотрите на примеры данных
3. Напишите первый вариант решения
4. Проверьте на примерах
5. Убедитесь что не мутируете исходные данные


### 4. Избегайте типичных ошибок

❌ **Мутация исходных данных**
```javascript
function renameCard(card, newName) {
  card.name = newName; // ПЛОХО!
  return card;
}
```

✅ **Создание новой копии**
```javascript
function renameCard(card, newName) {
  return { ...card, name: newName }; // ХОРОШО!
}
```

❌ **Прямое сравнение строк с числами**
```javascript
if (card.balance > "100") { // ПЛОХО! Строка "50.00" > "100"
```

✅ **Приведение к числу**
```javascript
if (parseFloat(card.balance) > 100) { // ХОРОШО!
```

❌ **Забыли про опциональные поля**
```javascript
const limit = card.limits.daily; // ОШИБКА если limits нет!
```

✅ **Проверка существования**
```javascript
const limit = card.limits?.daily; // Безопасно!
```
